<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Try Batfish</title>
    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.11.2.min.js"></script>
    <script src="libs/jszip.js"></script>
    <script src="bfconsts.js"></script>
    <script src="coordconsts.js"></script>
    <script src="batfish-common.js"></script>
    <script src="workclient.js"></script>
    <script src="trybatfish.js"></script>
    <script>
        var apiKey = "0000000";
        var containerPrefix = "js";
        var containerName = "";
        var testrigName = "js_testrig";
        var envName = "default";
        var diffEnvName = "delta";

        //............text area for debug and output
        var elementDebugText = '#txtDebug';
        var elementOutputText = '#txtOutput';

        //............from where to get the config information
        //var elementTestrigFile = '#fileTestrig';
        var elementConfigText = '#txtConfig';

        //.............from where to get the differential environment file information
        //var elementDiffEnvFile = '#fileDiffEnv';

        //..............from where to the get question information
        //var elementQuestionFile = '#fileQuestion';
        //var elementQuestionParams = '#txtQuestionParams';
        var elementQuestionText = '#txtQuestion';
    </script>
    <link rel="stylesheet" type="text/css" href="style.css" />
</head>
<body>
    <!-- 
    TODO:
          - output chaining
        -->
    <div id="divTest" style="display: normal">
        <input type="button" id="btnTest" value="Test me!" onclick="testMe()" />
    </div>
    <table>
        <tr>
            <td>
                <form class="myform">
                    <table>
                        <tr>
                            <td>
                                <table>
                                    <tr align="center">
                                        <td>Configuration file [Upload a file, type it, or select one of our samples]
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <textarea id="txtConfig" style="display: normal; border-radius: 5px" cols="50" rows="20"></textarea>
                                        </td>
                                        <td>
                                            <input type="file" id="fileConfig" />
                                            <script> jQuery('#fileConfig').change(loadConfigText); </script>
                                            <br />
                                            <br />
                                            <input type="button" id="btnExampleConfig1" value="Border router" onclick="loadText('samples/as1border1.cfg.txt', '#txtConfig')" />
                                            <br />
                                            <input type="button" id="btnExampleConfig2" value="Core router" onclick="loadText('samples/as1core1.cfg.txt', '#txtConfig')" />
                                        </td>
                                    </tr>
                                    <tr align="center">
                                        <td>
                                            <input type="button" id="btnUploadConfigTest" value="Upload Configuration"
                                                onclick="startCalls('btnUploadConfigText', 'initcontainer::uploadtestrigtext::parsevendorspecific::parsevendorindependent::generatedataplane::getdataplane')" />
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>

                        <tr>
                            <td colspan="2">
                                <hr />
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <table>
                                    <tr align="center">
                                        <td>Question file [Upload a question, type it, or select one of our samples]
                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <textarea id="txtQuestion" style="display: normal; border-radius: 5px" cols="50" rows="20"></textarea>
                                        </td>
                                        <td>
                                            <input type="file" id="fileQuestion" />
                                            <script> jQuery('#fileQuestion').change(loadQuestionText); </script>
                                            <br />
                                            <br />
                                            <input type="button" id="btnExampleQuestion1" value="Unique IP assignments" onclick="loadText('samples/unique-ip-assignments.q.txt', '#txtQuestion')" />
                                            <br />
                                            <input type="button" id="Button2" value="EBGP nodes" onclick="loadText('samples/print-ebgp-nodes.q.txt', '#txtQuestion')" />
                                        </td>
                                    </tr>
                                    <tr align="center">
                                        <td>
                                            <input type="button" id="btnUploadQuestion" value="Answer question"
                                                onclick="startCalls('btnUploadConfigText', 'uploadquestiontext::answerquestion')" />
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>

                    </table>
                </form>
            </td>
            <td>Output:
                <br />
                <textarea id="txtOutput" style="display: normal; border-radius: 5px" cols="50" rows="30"></textarea>
            </td>
        </tr>
    </table>
    <table>
        <tr>
            <td>
                <table>
                    <tr>
                        <td colspan="2">Activity log
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <textarea id="txtDebug" style="display: normal; border-radius: 5pt" cols="120" rows="10"></textarea>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</body>
</html>
